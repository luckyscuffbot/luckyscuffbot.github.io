<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The page supports only a dark color schemes -->
    <meta name="color-scheme" content="dark">
    <meta name="auth-token" content="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">

    <title>Authorize Lucky Scuff Bot</title>

    <link rel="icon" href="images/people.svg">

    <link rel="stylesheet" type="text/css" href="./styles/lsb.css">
    <link rel="stylesheet" href=" https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css"
        integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-dark-5@1.0.1/dist/css/bootstrap-night.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@sweetalert2/theme-dark@3/dark.css">
    <style>
        [v-cloak] {
            display: none
        }

        .outline {
            text-shadow: -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000;
        }

        body {
            background-color: rgba(255, 255, 255, 0.6);
        }
    </style>
</head>

<body class="d-flex flex-column min-vh-100">
    <main id="main" class="wrapper flex-grow-1">
        <div class="container py-2" v-if="isRunning">
            <div class="container py-2">
                <h1 class="text-center display-1 outline" style="font-weight: 400;">Keyword: {{ keyword }}</h1>
                <div class="row">
                    <div class="position-relative col-lg-8 offset-lg-2">
                        <div class="progress my-3 shadow" style="height: 60px;">
                            <div id="timer" class="progress-bar progress-bar-striped progress-bar-animated bg-success"
                                ref="elaspedTime" role="progressbar" aria-valuenow="0" aria-valuemin="0"
                                aria-valuemax="100"></div>
                        </div>
                        <h2 class="position-absolute top-50 start-0 translate-middle-y px-4 outline">Drawing winner in...</h3>
                        <h2 class="position-absolute top-50 end-0 translate-middle-y px-4 outline">{{ timeFormatted }}</h3>
                    </div>
                </div>
            </div>
        </div>
        </div>
    </main>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"
        integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue@2" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue-timeago@5.1.3/dist/vue-timeago.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@9/dist/sweetalert2.min.js"></script>
    <script src="scripts/lsb.js"></script>
    <script>
        $(function () {
            $("body").tooltip({ selector: '[data-bs-toggle=tooltip]' });

            var app = new Vue({
                el: "#main",
                mixins: [raffleTimerMixin],
                data: function () {
                    return {
                        isRunning: false,
                        keyword: "!test"
                    };
                }
            });

            // new Vue({
            //     el: "#main",
            //     data: () => ({
            //         minutes: 60,
            //         formattedTime: null,
            //         countdown: null
            //     }),
            //     methods: {
            //         toHHMMSS(time) {
            //             let sec_num = parseInt(time, 10); // don't forget the second param
            //             let hours = Math.floor(sec_num / 3600);
            //             let minutes = Math.floor((sec_num - (hours * 3600)) / 60);
            //             let seconds = sec_num - (hours * 3600) - (minutes * 60);

            //             if (hours < 10) { hours = "0" + hours; }
            //             if (minutes < 10) { minutes = "0" + minutes; }
            //             if (seconds < 10) { seconds = "0" + seconds; }

            //             let output = "";

            //             if (hours > 0) output += hours + ":";
            //             if (minutes >= 0) output += minutes + ":";
            //             if (minutes >= 0) output += seconds;

            //             return output;
            //         },
            //         startTimer() {
            //             let seconds = this.minutes; // initial time
            //             let et = this.$refs.elaspedTime;

            //             et.style.width = '100%';

            //             this.countdown = setInterval(() => {
            //                 this.minutes--;
            //                 this.formattedTime = this.toHHMMSS(this.minutes);

            //                 et.style.width = (100 - (((seconds - this.minutes) * 100) / seconds)) + '%';

            //                 if (this.minutes === 0) {
            //                     this.stopTimer();
            //                 }
            //             }, 1000);
            //         },
            //         stopTimer() {
            //             clearInterval(this.countdown);
            //             this.minutes = 60;
            //         }
            //     },
            //     init: function () {
            //         // Check for auth code from redirect
            //         let uri = window.location.search.substring(1);
            //         let params = new URLSearchParams(uri);

            //         let key = params.get("key");
            //         let time = params.get("minutes");

            //         if (!time){
            //             time = this.minutes;
            //         }
            //     },
            //     mounted: function () {
            //         this.startTimer();
            //     },
            // });
        });
    </script>
</body>

</html>